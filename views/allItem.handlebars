<a class="get-home" href="/shop">To Home Page</a>

<main id="ab">
    <h1>{{title}}</h1>
    <h2 id="shopId">{{shopId}}</h2>

    {{!-- <form method="get" id="b1" action="/shopId/addItem/{{shopId}}">
        <button type="submit" value="search">Add</button>
    </form> --}}
    <table width="25%" border="0">
        {{!-- <ul> --}}
            <tr style='text-align:left; background-color:#CCC'>

                <th> Product Name</th>
                <th> Product Details</th>
                <th> Product Highlights</th>
                <th> Price</th>
                <th> Quantity Remaining</th>
                <th> Date of Manufacture</th>
                <th> Date of Expiry</th>
                <th> Edit</th>
                <th> Delete</th>
            </tr>


            {{#each allItem}}
            {{!-- <p>------------------------------------------</p> --}}

            <tr>

                {{!-- <label for="na">{{this._id}}</label> --}}
                {{!-- <td><label type="text" name="name" id="name" value="{{this._id}}">{{this._id}}</label></td> --}}
                <td><label type="text" name="name" id="name" value="{{this.productname}}">{{this.productname}}</label>
                </td>
                <td><label type="text" name="name" id="name"
                        value="{{this.productdetails}}">{{this.productdetails}}</label></td>
                <td><label type="text" name="name" id="name"
                        value="{{this.producthighlights}}">{{this.producthighlights}}</label></td>
                <td><label type="text" name="name" id="name" value="{{this.price}}">{{this.price}}</label></td>
                <td><label type="text" name="name" id="name"
                        value="{{this.quantityremaining}}">{{this.quantityremaining}}</label></td>
                <td><label type="text" name="name" id="name"
                        value="{{this.dateofmanufacture}}">{{this.dateofmanufacture}}</label></td>
                <td><label type="text" name="name" id="name" value="{{this.dateofexpiry}}">{{this.dateofexpiry}}</label>
                </td>

                <td>
                    <form method="get" action="/shopId/editItem/{{this._id}}">
                        {{!-- <input type="hidden" name="_method" value="PUT"> --}}
                        <input type="submit" name="Edit" value='Edit' />
                    </form>
                </td>
                <td>
                    <form method="post" action="/shopId/delete/{{this._id}}?_method=DELETE">
                        <input type="hidden" name="_method" value="DELETE">
                        <input type="submit" name="delete" value='Delete' />
                    </form>

                    {{!-- <form action="/shopId/delete/{{this._id}}" style="float:right">
                        <input type="hidden" name="_method" value="DELETE" />
                        <input type="submit" name="delete" value='Delete' />
                    </form>
                    --}}
                    {{!-- </div> --}}
                </td>

            </tr>


            {{/each}}

            {{!--
            ..........................................................................................................................
            --}}
            <form method="post" id="addItem-form" action="/shopId/{{shopId}}">


                <td>
                    <input size="18" required oninvalid="this.setCustomValidity('Please Enter Product Name')"
                        oninput="this.setCustomValidity('')" id="productname" type="text" name="productname"
                        placeholder="Product Name" />
                </td>

                <td>
                    <input required oninvalid="this.setCustomValidity('Please Enter Product Details')"
                        oninput="this.setCustomValidity('')" id="productdetails" type="text" name="productdetails"
                        placeholder="ProductDetails" value="John55" />
                </td>

                <td>
                    <input required oninvalid="this.setCustomValidity('Please Enter Product Highlights')"
                        oninput="this.setCustomValidity('')" id="producthighlights" type="text" name="producthighlights"
                        placeholder="Product Highlights" value="John" />
                </td>

                <td>
                    <input size="10" required oninvalid="this.setCustomValidity('Please Enter Valid Price')"
                        oninput="this.setCustomValidity('')" type="text" id="price totalAmt" step="0.5" name="price"
                        placeholder="Price ( $ )" value="5" />
                </td>
                <td>
                    <input required oninvalid="this.setCustomValidity('Please Enter Quantity Remaining')"
                        oninput="this.setCustomValidity('')" type="text" id="quantityremaining" name="quantityremaining"
                        placeholder="Quantity Remaining (0-5)" value="5" />
                </td>
                <td>
                    <input id="dateofmanufacture" required oninvalid="this.setCustomValidity('Please Enter Valid Date')"
                        oninput="this.setCustomValidity('')" type="date" name="dateofmanufacture"
                        placeholder="Date of Manufacture" />
                </td>
                {{!-- value="2021-01-01" --}}
                <td>
                    <input id="dateofexpiry" required
                        oninvalid="this.setCustomValidity('Please Enter Valid Date of Expiry')"
                        oninput="this.setCustomValidity('')" type="date" name="dateofexpiry"
                        placeholder="Date of Expiry" />
                </td>
                {{!-- value="2022-01-01" --}}

                <td>
                    <div class="form-group" id="addNeww">
                        <button type="submit" id="submit addNew" class="btn btn-default">Add</button>
                    </div>
                </td>

            </form>
    </table>
    {{#if messagetoCreateProduct}}
    <p id="messagetoCreateProduct">{{messagetoCreateProduct}}</p>
    {{/if}}
    {{#if messageProduct}}
    <p id="message">{{messageProduct}}</p>
    {{/if}}
</main>


{{#if messageForMessage}}
<p id="message">{{messageForMessage}}</p>
{{/if}}

{{#if noComment}}
<p id="message">{{noComment}}</p>
{{/if}}

{{!-- .......................................... --}}
{{#if msgForShop}}
<h2> Message from Customer</h2>
<table id="message" width="20%" border="0">

    <tr>
        <th>User Name</th>
        <th>Message</th>
        <th></th>
    </tr>
    {{#each msgForShop}}
    <tr>
        <td>{{this.name}}</td>
        <td>{{this.message}}</td>
        <td>
            <form method="post" action="/shopId/delete/{{this._id}}?_method=DELETE" <input type="hidden" name="_method"
                value="DELETE">
                <input type="submit" name="delete" value='Delete' />
            </form>
        </td>
    </tr>
    
    {{/each}}

</table>
{{/if}}


{{#if commentForShop}}
<h2> Comment from Customer</h2>
<table id="comment" width="20%" border="0">

    <tr>
        <th>User Name</th>
        <th>Comment</th>
        <th>Date</th>
    </tr>
    {{#each commentForShop}}
    <tr>
        <td>{{this.userName}}</td>
        <td>{{this.comment}}</td>
        <td>
            {{this.date}}
        </td>
    </tr>
   
    {{/each}}

</table>
{{/if}}
